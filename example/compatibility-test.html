<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relax Life Kit å…¼å®¹æ€§æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }
        .test-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }
        .test-description {
            color: #666;
            margin-bottom: 15px;
        }
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .status {
            margin-top: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 14px;
        }
        .status.success {
            background: #f6ffed;
            border: 1px solid #b7eb8f;
            color: #52c41a;
        }
        .status.error {
            background: #fff2f0;
            border: 1px solid #ffccc7;
            color: #ff4d4f;
        }
        .status.info {
            background: #e6f7ff;
            border: 1px solid #91d5ff;
            color: #1890ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ Relax Life Kit å…¼å®¹æ€§æµ‹è¯•</h1>
        <p>æ­¤é¡µé¢æµ‹è¯•åœ¨æ²¡æœ‰ Ant Design Vue ä¾èµ–çš„æƒ…å†µä¸‹ï¼Œç»„ä»¶æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œã€‚</p>

        <div class="test-section">
            <div class="test-title">1. ä¾èµ–æ£€æŸ¥æµ‹è¯•</div>
            <div class="test-description">æ£€æŸ¥ Ant Design Vue æ˜¯å¦å¯ç”¨</div>
            <div id="dependency-status" class="status info">æ­£åœ¨æ£€æŸ¥ä¾èµ–...</div>
        </div>

        <div class="test-section">
            <div class="test-title">2. æŒ‰é’®ç»„ä»¶æµ‹è¯•</div>
            <div class="test-description">æµ‹è¯• RelaxButton ç»„ä»¶æ˜¯å¦æ­£å¸¸æ¸²æŸ“</div>
            <div id="button-test"></div>
        </div>

        <div class="test-section">
            <div class="test-title">3. æŠ½å±‰ç»„ä»¶æµ‹è¯•</div>
            <div class="test-description">æµ‹è¯• RelaxDrawer ç»„ä»¶æ˜¯å¦æ­£å¸¸æ¸²æŸ“</div>
            <div id="drawer-test"></div>
        </div>

        <div class="test-section">
            <div class="test-title">4. åŠŸèƒ½æµ‹è¯•</div>
            <div class="test-description">æµ‹è¯•ç»„ä»¶çš„åŸºæœ¬åŠŸèƒ½</div>
            <div id="function-test"></div>
        </div>
    </div>

    <script type="module">
        import { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js';
        
        // æ¨¡æ‹Ÿ relax-life-kit çš„å¯¼å‡º
        const RelaxButton = {
            name: 'RelaxButton',
            props: {
                loading: { type: Boolean, default: false },
                icon: { type: String, default: 'ğŸ§˜â€â™€ï¸' },
                title: { type: String, default: 'æ”¾æ¾ä¸€ä¸‹' }
            },
            emits: ['click'],
            template: `
                <div 
                    class="relax-life-kit_relax-button" 
                    @click="handleClick"
                    :title="title"
                    :class="{ loading: loading }"
                    style="display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 8px; cursor: pointer; transition: all 0.3s; font-size: 18px; padding: 0 8px; border: 1px solid #d9d9d9; background: #fff;"
                >
                    <span v-if="loading" style="animation: spin 1s linear infinite;">â³</span>
                    <span v-else>{{ icon }}</span>
                </div>
            `,
            methods: {
                handleClick() {
                    this.$emit('click');
                }
            }
        };

        const RelaxDrawer = {
            name: 'RelaxDrawer',
            props: {
                open: { type: Boolean, default: false },
                title: { type: String, default: 'ğŸ˜ æ”¾æ¾ä¸€ä¸‹,åŠ³é€¸ç»“åˆ' }
            },
            emits: ['update:open'],
            template: `
                <div v-if="open" class="relax-drawer-overlay" @click="close" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.45); z-index: 999;"></div>
                <div 
                    class="relax-drawer-content"
                    :class="{ 'open': open }"
                    style="position: fixed; top: 0; right: -600px; width: 600px; height: 100vh; background: #fff; box-shadow: -2px 0 8px rgba(0,0,0,0.15); transition: right 0.3s; z-index: 1000; overflow-y: auto;"
                    :style="{ right: open ? '0' : '-600px' }"
                >
                    <div style="padding: 20px;">
                        <h3>{{ title }}</h3>
                        <p>è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æŠ½å±‰ï¼Œç”¨äºéªŒè¯ç»„ä»¶åœ¨æ²¡æœ‰ Ant Design Vue çš„æƒ…å†µä¸‹æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
                        <button @click="close" style="padding: 8px 16px; border: 1px solid #d9d9d9; border-radius: 4px; background: #fff; cursor: pointer;">å…³é—­</button>
                    </div>
                </div>
            `,
            methods: {
                close() {
                    this.$emit('update:open', false);
                }
            }
        };

        // åˆ›å»ºæµ‹è¯•åº”ç”¨
        const app = createApp({
            components: {
                RelaxButton,
                RelaxDrawer
            },
            setup() {
                const drawerOpen = ref(false);
                const buttonLoading = ref(false);
                const testResults = ref({
                    dependency: 'checking',
                    button: 'pending',
                    drawer: 'pending',
                    function: 'pending'
                });

                // æ£€æŸ¥ä¾èµ–
                const checkDependency = () => {
                    try {
                        // å°è¯•è®¿é—® ant-design-vue
                        if (typeof window !== 'undefined' && window.antd) {
                            testResults.value.dependency = 'available';
                        } else {
                            testResults.value.dependency = 'unavailable';
                        }
                    } catch (e) {
                        testResults.value.dependency = 'unavailable';
                    }
                };

                // æµ‹è¯•æŒ‰é’®ç‚¹å‡»
                const testButtonClick = () => {
                    buttonLoading.value = true;
                    setTimeout(() => {
                        buttonLoading.value = false;
                        testResults.value.button = 'success';
                    }, 1000);
                };

                // æµ‹è¯•æŠ½å±‰
                const testDrawer = () => {
                    drawerOpen.value = true;
                    testResults.value.drawer = 'success';
                };

                // æµ‹è¯•åŠŸèƒ½
                const testFunction = () => {
                    testResults.value.function = 'success';
                };

                // åˆå§‹åŒ–
                setTimeout(checkDependency, 100);

                return {
                    drawerOpen,
                    buttonLoading,
                    testResults,
                    testButtonClick,
                    testDrawer,
                    testFunction
                };
            },
            template: `
                <div>
                    <div class="test-section">
                        <div class="test-title">1. ä¾èµ–æ£€æŸ¥æµ‹è¯•</div>
                        <div class="test-description">æ£€æŸ¥ Ant Design Vue æ˜¯å¦å¯ç”¨</div>
                        <div :class="['status', testResults.dependency === 'available' ? 'success' : testResults.dependency === 'unavailable' ? 'error' : 'info']">
                            {{ testResults.dependency === 'available' ? 'âœ… Ant Design Vue å¯ç”¨' : 
                               testResults.dependency === 'unavailable' ? 'âš ï¸ ä½¿ç”¨é™çº§æ ·å¼' : 'â³ æ­£åœ¨æ£€æŸ¥...' }}
                        </div>
                    </div>

                    <div class="test-section">
                        <div class="test-title">2. æŒ‰é’®ç»„ä»¶æµ‹è¯•</div>
                        <div class="test-description">æµ‹è¯• RelaxButton ç»„ä»¶æ˜¯å¦æ­£å¸¸æ¸²æŸ“</div>
                        <div class="button-group">
                            <relax-button @click="testButtonClick" />
                            <relax-button :loading="buttonLoading" @click="testButtonClick" />
                            <relax-button icon="ğŸ¬" title="è§‚çœ‹è§†é¢‘" @click="testButtonClick" />
                        </div>
                        <div :class="['status', testResults.button === 'success' ? 'success' : 'info']">
                            {{ testResults.button === 'success' ? 'âœ… æŒ‰é’®ç»„ä»¶æµ‹è¯•é€šè¿‡' : 'â³ ç‚¹å‡»æŒ‰é’®æµ‹è¯•åŠŸèƒ½' }}
                        </div>
                    </div>

                    <div class="test-section">
                        <div class="test-title">3. æŠ½å±‰ç»„ä»¶æµ‹è¯•</div>
                        <div class="test-description">æµ‹è¯• RelaxDrawer ç»„ä»¶æ˜¯å¦æ­£å¸¸æ¸²æŸ“</div>
                        <button @click="testDrawer" style="padding: 8px 16px; border: 1px solid #d9d9d9; border-radius: 4px; background: #fff; cursor: pointer;">
                            æ‰“å¼€æŠ½å±‰
                        </button>
                        <relax-drawer v-model:open="drawerOpen" />
                        <div :class="['status', testResults.drawer === 'success' ? 'success' : 'info']">
                            {{ testResults.drawer === 'success' ? 'âœ… æŠ½å±‰ç»„ä»¶æµ‹è¯•é€šè¿‡' : 'â³ ç‚¹å‡»æŒ‰é’®æ‰“å¼€æŠ½å±‰' }}
                        </div>
                    </div>

                    <div class="test-section">
                        <div class="test-title">4. åŠŸèƒ½æµ‹è¯•</div>
                        <div class="test-description">æµ‹è¯•ç»„ä»¶çš„åŸºæœ¬åŠŸèƒ½</div>
                        <button @click="testFunction" style="padding: 8px 16px; border: 1px solid #d9d9d9; border-radius: 4px; background: #fff; cursor: pointer;">
                            è¿è¡ŒåŠŸèƒ½æµ‹è¯•
                        </button>
                        <div :class="['status', testResults.function === 'success' ? 'success' : 'info']">
                            {{ testResults.function === 'success' ? 'âœ… åŠŸèƒ½æµ‹è¯•é€šè¿‡' : 'â³ ç‚¹å‡»æŒ‰é’®è¿è¡Œæµ‹è¯•' }}
                        </div>
                    </div>
                </div>
            `
        });

        app.mount('.container');
    </script>
</body>
</html> 